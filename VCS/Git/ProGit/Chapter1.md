# Chapter 1

## 버전 관리란?

파일 변화를 시간에 따라 기록했다가 나중에 특정 시점의 버전을 다시 꺼내올 수 있는 시스템

### 로컬 버전 관리

로컬 VCS 
- 간단한 데이터베이스를 사용
- RCS : 요즘에도 많이 쓰는 VCS 도구. Patch Set(파일에서 변경되는 부분)을 관리한다. 

### 중앙집중식 버전 관리 (cvcs)

- CVS, Subversion, Perforce
- 파일을 관리하는 서버 - 중앙 서버에서 파일을 받아서 checkout하는 클라이언트
- 장점: 다른 개발자와 협업하기 좋다. 관리하기 편리하다.
- 단점: 서버에 문제가 생길 경우. 

### 분산 버전 관리 시스템 (DVCS)

- Git, Mecurial, Bazaar, Darcs, ...
- 클라이언트는 저장소를 전부 복제한다. -> 서버에 문제가 생겨도 문제 X. 모든 checkout은 모든 데이터를 가진 진정한 백업
- 리모트 저장소 - 동시에 다양한 그룹과 방법으로 협업이 가능. 

### 짧게 보는 Git의 역사 

2002년 리눅스 커널은 BitKeeper라는 상용 DVCS 사용 시작했음.

BitKeeper가 유료화되며 2005년 리눅스 개발 커뮤니티가 자체 도구 개발함.

Git의 초기 목표
- 빠른 속도
- 단순한 구조
- 동시 다발적인 브랜치
- 완벽한 분산
- 대형 프로젝트에도 유용할 것

## Git 기초

### 차이가 아니라 스냅샷

다른 VCS (CVS, Subversion, Perforce, Bazaar, ...)는 각 파일 변화를 시간순으로 관리.

Git은 데이터를 파일 시스템 스냅샷으로 취급하고 크기가 아주 작다.
깃은 파일이 달라지지 않았으면 새로 저장하지 않고 링크만 저장한다.  
-> 깃은 데이터를 **스냅샷의 스트림** 처럼 취급한다.

이것이 Git과 다른 VCS들과 구분되는 점.  

### 거의 모든 명령을 로컬에서 실행

네트워크 영향 거의 X

프로젝트의 모든 히스토리가 로컬 디스크에 있기 때문에 속도가 매우 빠르다. (서버 접근 필요 X)

즉, 비행기나 기차에서 작업하고 네트워크 없이도 커밋 가능하다는 것.


### Git의 무결성

**체크섬**? Git에서 사용하는 가장 기본적인 데이터 단위. Git의 기본 철학. 

Git은 체크섬으로 데이터를 저장하고 관리한다.   

Git은 SHA-1 해시를 사용해서 체크섬을 만든다. 

Git은 모든 것을 해시로 식별한다. 파일 저장시 해시로 저장(파일 이름으로 저장 X)

### Git은 데이터를 추가할 뿐

Git 데이터베이스를 되돌리거나 데이터를 삭제할 방법이 없다.  

Git은 스냅샷을 커밋하고 나면 데이터를 잃어버리기 어렵다.  

### 세 가지 상태

1. **Committed**: 데이터가 로컬 데이터베이스에 안전하게 저장됨. Git 디렉토리에 있는 상태.
2. **Modified**: 수정한 파일을 아직 로컬 데이터베이스에 커밋하지 않음. 수정하고 아직 Staging Area에는 추가하지 않음.
3. **Staged**: 현재 수정한 파일을 곧 커밋할 것. 수정하고 Staging Area에 추가한 상태.


Git 프로젝트의 세 가지 단계
1. `.git directory(Repository)`: 프로젝트의 메타데이터와 객체 데이터베이스를 저장하는 곳. git의 핵심. clone할 때 git 디렉토리 생성됨.

2. `Working Directory`: 프로젝트의 특정 버전을 Checkout한 것. 깃 디렉토리 안에 압축된 데이터베이스에서 파일을 가져와서 만든다.

3. `Staging Area`: 깃 디렉토리 안에 있음. 곧 커밋할 파일에 대한 정보를 저장한 단순한 파일.


Git으로 하는 일
1. 워킹 디렉토리에서 파일 수정
2. Staging Area에 파일을 Stage해서 커밋할 스냅샷을 만든다.
3. Staging Area에 있는 파일들을 커밋해서 깃 디렉토리에 영구적인 스냅샷으로 저장한다.


## CLI

Git의 모든 기능을 지원하는 것은 CLI뿐.

### Git 설치

이 책은 Git 2.0.0 버전을 기준으로 썼음.

### Git 최초 설정

Git의 환경설정은 한 번만 설정하면 업데이트해도 유지해줌.

--system 옵션: 시스템의 모든 사용자와 모든 저장소에 적용되는 설정

--global 옵션: 특정 사용자에게만 적용되는 설정



### 사용자 정보

```
$ git config --global user.name "이영주"
$ git config --global user.email 0zoo94@gmail.com
```

--global 옵션은 딱 한 번만 하면 된다.  
만약, 프로젝트마다 다른 이름과 이메일을 사용하고 싶다면 --global 옵션을 빼고 명력을 실행한다.

### 편집기

git은 시스템의 기본 편집기를 사용한다.

```
// Emacs 편집기 사용하기
$ git config --global core.editor emacs
```

### 설정 확인

```
$ git config --list
```

여러 설정 파일에서 읽기 때문에 같은 키가 여러 개 있을 수 있다. 

```
$ git config <key>
```

### 도움말 보기

```
1.
$ git help <verb>
2.
$ git <verb> --help
3.
$ man git-<verb>
```

도움말은 언제 어디서나 볼 수 있다.




